# üìÖ TODO_FIXES_08.12.md - –û–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –º–∞—Å—Å–æ–≤–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û 08.12.2025:

### üèóÔ∏è –°–¢–†–£–ö–¢–£–†–ê –î–ê–ù–ù–´–• –£–°–ü–ï–®–ù–û –û–ë–ù–û–í–õ–ï–ù–ê:

**–¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã/–æ–±–Ω–æ–≤–ª–µ–Ω—ã:**
1. ‚úÖ `visited_locations` - –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø–æ—Å–µ—â–µ–Ω–∏–π (12 —Å—Ç–æ–ª–±—Ü–æ–≤)
   - `visitable_type`, `visitable_id` - –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω–∞—è —Å–≤—è–∑—å
   - `address`, `latitude`, `longitude`, `started_at`, `ended_at`, `duration_minutes`, `notes`
   - –ò–Ω–¥–µ–∫—Å: `visited_locations_visitable_type_visitable_id_index`

2. ‚úÖ `shift_photos` - –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π (13 —Å—Ç–æ–ª–±—Ü–æ–≤)
   - `photoable_type`, `photoable_id` - –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω–∞—è —Å–≤—è–∑—å
   - `file_path`, `file_name`, `mime_type`, `file_size`, `description`, `taken_at`, `latitude`, `longitude`
   - –ò–Ω–¥–µ–∫—Å: `shift_photos_photoable_type_photoable_id_index`

3. ‚úÖ `contractor_workers` - —Ç–∞–±–ª–∏—Ü–∞ —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤ –º–∞—Å—Å–æ–≤–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞ (11 —Å—Ç–æ–ª–±—Ü–æ–≤)
   - `mass_personnel_report_id` - —Å–≤—è–∑—å —Å –æ—Ç—á–µ—Ç–æ–º
   - `full_name` - –§–ò–û —Ä–∞–±–æ—Ç–Ω–∏–∫–∞
   - `notes` - –ø—Ä–∏–º–µ—á–∞–Ω–∏—è
   - `photo_missing_reason` - –ø—Ä–∏—á–∏–Ω–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è —Ñ–æ—Ç–æ
   - `is_confirmed` - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω –ª–∏ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–º
   - `confirmed_by`, `confirmed_at` - –∫—Ç–æ –∏ –∫–æ–≥–¥–∞ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª
   - `calculated_hours` - —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–µ —á–∞—Å—ã
   - –ò–Ω–¥–µ–∫—Å—ã: `mass_personnel_report_id`, `is_confirmed`, `confirmed_by`
   - Foreign Keys: –Ω–∞ `mass_personnel_reports` –∏ `users`

### üîß –ò–°–ü–†–ê–í–õ–ï–ù–´ –û–®–ò–ë–ö–ò:

1. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Å–∏–Ω—Ç–∞–∫—Å–∏—Å PHP 8.4 –≤ `ContractorWorkerResource.php`
   - –ó–∞–º–µ–Ω–µ–Ω–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è `{$record->workRequest?->request_number ?? '–ù/–î'}` 
   - –ù–∞: `" . ($record->workRequest ? $record->workRequest->request_number : '–ù/–î') . "`

### üé® –°–û–ó–î–ê–ù–´ FILAMENT –†–ï–°–£–†–°–´:

1. ‚úÖ `ContractorWorkerResource` - –ø–æ–ª–Ω—ã–π —Ä–µ—Å—É—Ä—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–Ω–∏–∫–∞–º–∏
   - –§–æ—Ä–º–∞ —Å –ø–æ–ª—è–º–∏: –§–ò–û, –ø—Ä–∏–º–µ—á–∞–Ω–∏—è, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ, —Ä–∞—Å—á–µ—Ç —á–∞—Å–æ–≤
   - –¢–∞–±–ª–∏—Ü–∞ —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏: –§–ò–û, —á–∞—Å—ã, —Å—É–º–º–∞, —Å—Ç–∞—Ç—É—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
   - –î–µ–π—Å—Ç–≤–∏—è: –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å, —Å–Ω—è—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ, –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å —á–∞—Å—ã
   - –§–∏–ª—å—Ç—Ä—ã: –ø–æ –æ—Ç—á–µ—Ç—É, —Å—Ç–∞—Ç—É—Å—É –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è, —á–∞—Å–∞–º —Ä–∞–±–æ—Ç—ã
   - –ú–∞—Å—Å–æ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è: –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤

2. ‚úÖ `ContractorWorkersRelationManager` - RelationManager –¥–ª—è MassPersonnelReport
   - –ü–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤ –ø—Ä—è–º–æ –∏–∑ –æ—Ç—á–µ—Ç–∞
   - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ/—Å–Ω—è—Ç–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤
   - –†–∞—Å—á–µ—Ç —Å—É–º–º—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ —á–∞—Å–æ–≤ –∏ —Å—Ç–∞–≤–∫–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏

### üîó –û–ë–ù–û–í–õ–ï–ù–´ –°–í–Ø–ó–ò:

**–í –º–æ–¥–µ–ª–∏ MassPersonnelReport:**
```php
public function contractorWorkers() {
    return $this->hasMany(ContractorWorker::class);
}

public function visitedLocations() {
    return $this->morphMany(VisitedLocation::class, 'visitable');
}
```

**–í –º–æ–¥–µ–ª–∏ Shift:**
```php
public function visitedLocations() {
    return $this->morphMany(VisitedLocation::class, 'visitable');
}
```

**–í –º–æ–¥–µ–ª–∏ VisitedLocation:**
```php
public function visitable() {
    return $this->morphTo();
}

public function photos() {
    return $this->morphMany(ShiftPhoto::class, 'photoable');
}
```

### üìä –ù–û–í–´–ô WORKFLOW:

**–î–ª—è –±—Ä–∏–≥–∞–¥–∏—Ä–∞:**

1. –°–æ–∑–¥–∞–µ—Ç MassPersonnelReport

2. –í RelationManager –¥–æ–±–∞–≤–ª—è–µ—Ç —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤ (–§–ò–û)

3. –î–æ–±–∞–≤–ª—è–µ—Ç –ø–æ—Å–µ—â–µ–Ω–Ω—ã–µ –ª–æ–∫–∞—Ü–∏–∏ —Å —Ñ–æ—Ç–æ

4. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç—á–µ—Ç –Ω–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ

**–î–ª—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞:**

1. –í–∏–¥–∏—Ç –Ω–µ–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤ –≤ –æ—Ç—á–µ—Ç–µ

2. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —Ñ–æ—Ç–æ –≤ –ø–æ—Å–µ—â–µ–Ω–Ω—ã—Ö –ª–æ–∫–∞—Ü–∏—è—Ö

3. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤ (–µ—Å–ª–∏ –µ—Å—Ç—å —Ñ–æ—Ç–æ)

4. –ò–ª–∏ —É–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∏—á–∏–Ω—É –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è —Ñ–æ—Ç–æ –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç

5. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç —á–∞—Å—ã –∏ —Å—É–º–º—É

### üöÄ –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê:

1. –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è —É—á–µ—Ç–∞ - –∫–∞–∂–¥—ã–π —Ä–∞–±–æ—Ç–Ω–∏–∫ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ

2. –ó–∞—â–∏—Ç–∞ –æ—Ç –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–∞ - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Ç—Ä–µ–±—É–µ—Ç —Ñ–æ—Ç–æ –∏–ª–∏ –ø—Ä–∏—á–∏–Ω—ã –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è

3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∞—Å—á–µ—Ç—ã - —á–∞—Å—ã –æ–∫—Ä—É–≥–ª—è—é—Ç—Å—è –¥–æ 30 –º–∏–Ω—É—Ç, —Å—É–º–º–∞ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

4. –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å - –ø–æ–¥—Ä—è–¥—á–∏–∫–∏ –≤–∏–¥—è—Ç —Ä–∞—Å—á–µ—Ç –ø–æ –∫–∞–∂–¥–æ–º—É —Ä–∞–±–æ—Ç–Ω–∏–∫—É

5. –ì–∏–±–∫–æ—Å—Ç—å - –µ–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –ø–æ—Å–µ—â–µ–Ω–∏–π

### üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï:

**–ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**

1. –°–æ–∑–¥–∞–Ω–∏–µ MassPersonnelReport —Å —Ä–∞–±–æ—Ç–Ω–∏–∫–∞–º–∏

2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å–µ—â–µ–Ω–Ω—ã—Ö –ª–æ–∫–∞—Ü–∏–π —Å —Ñ–æ—Ç–æ

3. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–º

4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç —Å—É–º–º—ã

5. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤ –≤ ContractorWorkerResource

### üìà –°–¢–ê–¢–ò–°–¢–ò–ö–ê:

- –ú–∏–≥—Ä–∞—Ü–∏–π –≤—ã–ø–æ–ª–Ω–µ–Ω–æ: 59 (–≤—Å–µ —É—Å–ø–µ—à–Ω–æ)

- –¢–∞–±–ª–∏—Ü —Å–æ–∑–¥–∞–Ω–æ/–æ–±–Ω–æ–≤–ª–µ–Ω–æ: 3

- Filament Resources —Å–æ–∑–¥–∞–Ω–æ: 1

- RelationManagers —Å–æ–∑–¥–∞–Ω–æ: 1

- –ú–æ–¥–µ–ª–µ–π –æ–±–Ω–æ–≤–ª–µ–Ω–æ: 4

### üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:

1. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–∞ —Å —Ä–∞–±–æ—Ç–Ω–∏–∫–∞–º–∏

2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞—Å—á–µ—Ç —á–∞—Å–æ–≤ –∏ —Å—É–º–º—ã

3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è —Ä–æ–ª–µ–π

4. –î–æ–±–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –æ—Ç—á–µ—Ç–∞—Ö

5. –°–æ–∑–¥–∞—Ç—å –æ—Ç—á–µ—Ç—ã –ø–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤

***

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –°–∏—Å—Ç–µ–º–∞ –º–∞—Å—Å–æ–≤–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ
**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 08.12.2025
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ workflow –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

## üé® –ù–ê–°–¢–†–û–ô–ö–ê –ù–û–í–´–• –†–ï–°–£–†–°–û–í (08.12.2025)

### ‚úÖ –°–û–ó–î–ê–ù–û –ò –ù–ê–°–¢–†–û–ï–ù–û:

1. **VisitedLocationResource** - —Ä–µ—Å—É—Ä—Å –¥–ª—è –ø–æ—Å–µ—â–µ–Ω–Ω—ã—Ö –ª–æ–∫–∞—Ü–∏–π
   - üìç –ù–∞–≤–∏–≥–∞—Ü–∏—è: –ì–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –∏ —Ñ–æ—Ç–æ
   - üîó –°–≤—è–∑–∏: Shift, MassPersonnelReport
   - üì∏ RelationManager: PhotosRelationManager
   - üóÉÔ∏è –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ

2. **ShiftPhotoResource** - —Ä–µ—Å—É—Ä—Å –¥–ª—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
   - üì∏ –ù–∞–≤–∏–≥–∞—Ü–∏—è: –ì–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –∏ —Ñ–æ—Ç–æ
   - üîó –ü–æ–ª–∏–º–æ—Ä—Ñ–Ω–∞—è —Å–≤—è–∑—å: Shift, VisitedLocation, MassPersonnelReport
   - üóÉÔ∏è –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ

3. **WorkRequestStatusResource** - —Ä–µ—Å—É—Ä—Å –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞—è–≤–æ–∫
   - üö© –ù–∞–≤–∏–≥–∞—Ü–∏—è: –ó–∞—è–≤–∫–∏ –Ω–∞ —Ä–∞–±–æ—Ç—ã
   - üîó –°–≤—è–∑–∏: WorkRequest, User (changedBy)
   - üóÉÔ∏è –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: ‚ùå –¢–†–ï–ë–£–ï–¢–°–Ø (–¥–æ–±–∞–≤–∏—Ç—å —Ç—Ä–µ–π—Ç LogsActivity)

### üîß –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:

1. **–û–±–Ω–æ–≤–ª–µ–Ω ActivityLogResource**:
   - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —Ç–∏–ø—ã –æ–±—ä–µ–∫—Ç–æ–≤ –≤ —Ñ–∏–ª—å—Ç—Ä
   - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–∫–æ–Ω–∫–∏ –¥–ª—è –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π
   - ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω —Ñ–æ—Ä–º–∞—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

2. **–î–æ–±–∞–≤–ª–µ–Ω PhotosRelationManager**:
   - ‚úÖ –°–æ–∑–¥–∞–Ω –¥–ª—è VisitedLocationResource
   - ‚úÖ –ü–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏ –ª–æ–∫–∞—Ü–∏–π
   - ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø—Ä–æ—Å–º–æ—Ç—Ä

### üìã –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:

1. –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ WorkRequestStatus (—Ç—Ä–µ–π—Ç LogsActivity)
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ RelationManagers
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è –Ω–æ–≤—ã—Ö —Ä–æ–ª–µ–π

### üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï:

**–ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
1. –°–æ–∑–¥–∞–Ω–∏–µ VisitedLocation –¥–ª—è —Å–º–µ–Ω—ã
2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –∫ –ª–æ–∫–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ RelationManager
3. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ —Å—Ç–∞—Ç—É—Å–∞ –¥–ª—è WorkRequest
4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –≤ ActivityLogResource

**–°—Ç–∞—Ç—É—Å:** üé® –†–µ—Å—É—Ä—Å—ã —Å–æ–∑–¥–∞–Ω—ã –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ –µ–¥–∏–Ω–æ–º —Å—Ç–∏–ª–µ

## üèóÔ∏è –£–ù–ò–§–ò–ö–ê–¶–ò–Ø –§–û–¢–û–ì–†–ê–§–ò–ô - –ó–ê–í–ï–†–®–ï–ù–ò–ï (08.12.2025)

### ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û:

#### 1. –°–û–ó–î–ê–ù –£–ù–ò–í–ï–†–°–ê–õ–¨–ù–´–ô PHOTORESOURCE
- ‚úÖ –†–µ—Å—É—Ä—Å: `PhotoResource` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ–º–∏ —Ñ–æ—Ç–æ
- ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è: "–ö–æ–Ω—Ç–µ–Ω—Ç –∏ –º–µ–¥–∏–∞" ‚Üí "–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏"
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è: –ø–æ —Ç–∏–ø—É —Ñ–æ—Ç–æ, –æ–±—ä–µ–∫—Ç—É, –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- ‚úÖ –î–µ–π—Å—Ç–≤–∏—è: –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è, –ø—Ä–æ—Å–º–æ—Ç—Ä, –º–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

#### 2. –£–î–ê–õ–ï–ù–´ –°–¢–ê–†–´–ï –§–ê–ô–õ–´:
- ‚ùå –£–¥–∞–ª–µ–Ω–æ: `app/Models/ShiftPhoto.php`
- ‚ùå –£–¥–∞–ª–µ–Ω–æ: `app/Filament/Resources/ShiftPhotoResource/`
- ‚ùå –£–¥–∞–ª–µ–Ω–æ: `app/Filament/Resources/ShiftPhotoResource.php`

#### 3. –û–ë–ù–û–í–õ–ï–ù–´ –°–í–Ø–ó–ê–ù–ù–´–ï –†–ï–°–£–†–°–´:
- ‚úÖ **ExpenseResource**: –¥–æ–±–∞–≤–ª–µ–Ω PhotosRelationManager –¥–ª—è —á–µ–∫–æ–≤
- ‚úÖ **ShiftResource**: –¥–æ–±–∞–≤–ª–µ–Ω PhotosRelationManager –¥–ª—è —Ñ–æ—Ç–æ —Å–º–µ–Ω
- ‚úÖ **VisitedLocationResource**: –æ–±–Ω–æ–≤–ª–µ–Ω PhotosRelationManager (–±—ã–ª)
- ‚úÖ **ContractorWorkerResource**: –¥–æ–±–∞–≤–ª–µ–Ω PhotosRelationManager –¥–ª—è —Ñ–æ—Ç–æ —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤
- ‚úÖ **MassPersonnelReportResource**: –¥–æ–±–∞–≤–ª–µ–Ω PhotosRelationManager –¥–ª—è —Ñ–æ—Ç–æ –æ—Ç—á–µ—Ç–æ–≤

#### 4. –°–û–ó–î–ê–ù–´ –ù–û–í–´–ï RELATIONMANAGERS:
1. `ExpenseResource/RelationManagers/PhotosRelationManager.php`
2. `ShiftResource/RelationManagers/PhotosRelationManager.php`
3. `ContractorWorkerResource/RelationManagers/PhotosRelationManager.php`
4. `MassPersonnelReportResource/RelationManagers/PhotosRelationManager.php`

### üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï:

**–ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–æ—Ç–æ —á–µ—Ä–µ–∑ PhotoResource
2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ –∫ —Å–º–µ–Ω–µ —á–µ—Ä–µ–∑ RelationManager
3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ —á–µ–∫–∞ –∫ —Ä–∞—Å—Ö–æ–¥—É
4. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ —Ä–∞–±–æ—Ç–Ω–∏–∫–∞
5. –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Ñ–æ—Ç–æ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–º
6. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ñ–æ—Ç–æ –ø–æ —Ç–∏–ø–∞–º

### üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê:
- –ù–æ–≤—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤: 1 (PhotoResource)
- –£–¥–∞–ª–µ–Ω–æ —Ä–µ—Å—É—Ä—Å–æ–≤: 1 (ShiftPhotoResource)
- –ù–æ–≤—ã—Ö RelationManagers: 4
- –û–±–Ω–æ–≤–ª–µ–Ω–æ –º–æ–¥–µ–ª–µ–π: 5 (–≤—Å–µ —Å–≤—è–∑–∏ —Å Photo)
- –ú–∏–≥—Ä–∞—Ü–∏–π –≤—ã–ø–æ–ª–Ω–µ–Ω–æ: 2

### üéØ –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê –£–ù–ò–§–ò–ö–ê–¶–ò–ò:

1. **–ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ–º–∏ —Ñ–æ—Ç–æ
2. **–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è** —Ñ–æ—Ç–æ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–º
3. **–¢–∏–ø–∏–∑–∞—Ü–∏—è** —Ñ–æ—Ç–æ (shift, location, expense, worker, report)
4. **–ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏** —Å —Ñ–æ—Ç–æ
5. **–ï–¥–∏–Ω–∞—è –ª–æ–≥–∏–∫–∞** –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏
6. **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ –∫ –Ω–æ–≤—ã–º –º–æ–¥–µ–ª—è–º

### üîß –ò–ó–í–ï–°–¢–ù–´–ï –ü–†–û–ë–õ–ï–ú–´:

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å API endpoints** - –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ `ShiftPhoto`, –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å
2. **–û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é** - –æ–ø–∏—Å–∞—Ç—å –Ω–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É —Ñ–æ—Ç–æ
3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** - –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Ñ–æ—Ç–æ

### üìù –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:

1. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Ä–∞–±–æ—Ç—ã —Å —Ñ–æ—Ç–æ
2. –û–±–Ω–æ–≤–∏—Ç—å API endpoints (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è)
3. –î–æ–±–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–æ—Ç–æ
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–ª–∏—Ç–∏–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ñ–æ—Ç–æ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –£–ù–ò–§–ò–ö–ê–¶–ò–Ø –ó–ê–í–ï–†–®–ï–ù–ê
